<!DOCTYPE html>
<!--
    This example shows the code necessary to inject the Edgecase Adaptive Navigation
    solution on the transaction confirmation page of a retailer's website.

    On the transaction page, the Edgecase Adaptive Navigation solution doesn't draw
    any UI elements. The transaction page integration allows Edgecase to track users
    that interacted with the Edgecase solution through the purchase funnel, and
    includes transaction events to Edgecase for analytics and reporting purposes.

    Copyright 2016 Edgecase, Inc.

    Unless required by applicable law or agreed to in writing, the example code
    below is provided "as is" without warranty of any kind, either express or
    implied, including without limitation any implied warranties of condition,
    uninterrupted use, merchantability, or fitness for a particular purpose.
-->
<html>

    <head>

        <title>Example Edgecase Adaptive Navigation Integration</title>

        <!--
            The Edgecase "scout" is a small (>6k) loader for the rest of the resources
            necessary to load the Edgecase Adaptive Navigation solution.

            IMPORTANT: The scout should not be included in any caching mechanism
            (i.e., CloudFlare) and should not have any extra cache-busting parameters
            added to the URL.

            WHERE:
             * CLIENTNAME is the Edgecase-supplied client token
             * ENVIRONMENT is one of "staging" or "production"
        -->
        <script type="text/javascript" src="//configs.edgecasestatic.com/CLIENTNAME/ENVIRONMENT/scout.js"></script>

        <!--
            The Edgecase "$EC.configure" call should be placed after the scout.js loader.
            Note that this piece of the integration code is optional; your Edgecase
            Implementation Specialist can help you determine if a "$EC.configure"
            call should be used on your transaction confirmation page.

            WHERE:
             * pageType is set to "transaction"
        -->
        <script type="text/javascript">
            $EC.configure({
                pageType: "transaction"
            });
        </script>

        <!--
            The "$EC.transaction" calls can be placed anywhere on your transaction page.
            These calls are necessary for proper analytics on the effectiveness of the
            Edgecase Adaptive Navigation, and are modeled in form and function after
            Google's Ecommmerce Tracking API.

            IMPORTANT: Arguments for these methods are matched by position, so be sure to
            supply all parameters even if some of them have an empty value!

            For more information:
            https://developers.google.com/analytics/devguides/collection/gajs/gaTrackingEcommerce
        -->
        <script type="text/javascript">

            // Start the transaction with "$EC.transaction.addTransaction", providing
            // the order information parameters described below. Note that the user's
            // billing address should be used for the city/state/country fields.
            //
            $EC.transaction.addTransaction(
                "21",         // order ID - required, and should match your internal ID for this order
                "yourStore",  // affiliation or store name
                36.98,        // total - required, and does not include tax and shipping
                3.05,         // tax
                2.99,         // shipping
                "Austin",     // city
                "TX",         // state or province
                "US"          // country
            );

            // For each item in the user's order, make a "$EC.transaction.addItem" call.
            //
            $EC.transaction.addItem(
                "21",         // order ID - required
                "987654",     // product ID - required
                "Mouse",      // product name
                "cat_1",      // category ID - required
                11.99,        // unit price - required
                1             // quantity - required
            );

            $EC.transaction.addItem(
                "21",         // order ID - required
                "653446",     // product ID - required
                "Keyboard",   // product name
                "cat_2",      // category ID - required
                24.99,        // unit price - required
                1             // quantity - required
            );

            // Push the transaction event with "$EC.transaction.trackTransaction".
            //
            $EC.transaction.trackTransaction();

        </script>

    </head>

    <body>

        <!--
            No other Edgecase-specific code is necessary for transaction page integrations.
        -->

    </body>

</html>
